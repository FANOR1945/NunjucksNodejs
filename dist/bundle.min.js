(()=>{"use strict";var t={56(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var d=n(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},113(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},540(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},592(t,e,n){n.d(e,{A(){return s}});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* index.css */\nhtml, body, #app {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: aqua;\n}\n\n/* table.css */\n.dynamic-table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;         /* reparte columnas equitativamente */\n  font-family: Arial, sans-serif;\n  font-size: 14px;\n  margin: 1rem 0;\n}\n\n.dynamic-table th,\n.dynamic-table td {\n  padding: 0.75rem 1rem;\n  border: 1px solid #ddd;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.dynamic-table th {\n  background-color: #2c3e50;\n  color: #fff;\n  font-weight: 600;\n  position: sticky;\n  top: 0;\n}\n\n.dynamic-table tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.dynamic-table tr:hover {\n  background-color: #e0ebf5;\n}\n\n.dynamic-table tfoot td {\n  background-color: #2c3e50;\n  color: #ecf0f1;\n  font-weight: 600;\n}\n",""]);const s=a},601(t){t.exports=function(t){return t[1]}},659(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825(t){t.exports=function(t){if("undefined"==typeof document)return{update(){},remove(){}};var e=t.insertStyleElement(t);return{update(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.t?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>({}.hasOwnProperty.call(t,e)),n.nc=void 0;const r=new Promise((t=>{"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)})),o={debugMode:!0},i={log:{color:"lime",consoleMethod:"log"},info:{color:"cyan",consoleMethod:"info"},warn:{color:"yellow",consoleMethod:"warn"},error:{color:"red",consoleMethod:"error"},debug:{color:"magenta",consoleMethod:"debug"}},a=(t,e="log")=>{if(!o.debugMode)return;const n=i[e]||i.log,r=(console[n.consoleMethod]&&n.consoleMethod,document.getElementById("debugConsole"));if(!r)return;const a=(new Date).toLocaleTimeString(),s=document.createElement("div");s.innerHTML=`[${a}] ${t}`,s.style.color=n.color,s.style.margin="2px 0",s.style.padding="2px 5px",r.appendChild(s),r.scrollTop=r.scrollHeight};var s=n(72),c=n.n(s),l=n(825),d=n.n(l),u=n(659),p=n.n(u),h=n(56),f=n.n(h),g=n(540),b=n.n(g),m=n(113),x=n.n(m),y=n(592),k={};k.styleTagTransform=x(),k.setAttributes=f(),k.insert=p().bind(null,"head"),k.domAPI=d(),k.insertStyleElement=b(),c()(y.A,k),y.A&&y.A.locals&&y.A.locals;const w={user:null,isAuthenticated:localStorage.getItem("isAuthenticated")||!1,roles:[],error:null},v={routes:[],currentPath:localStorage.getItem("currentPath")||window.location.pathname},S={loading:!1};var C;const $=function(t){let e=t(void 0,{});const n=[];return{getState(){return e},dispatch(r){e=t(e,r),n.forEach((t=>t()))},subscribe(t){return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}}}((C={routesUi(t=v,e){switch(e.type){case"SET_ROUTES":return{...t,routes:e.payload};case"SET_CURRENT_PATH":return{...t,currentPath:e.payload};default:return t}},auth(t=w,e){switch(e.type){case"LOGIN_SUCCESS":return{...t,user:e.payload.user,isAuthenticated:e.payload.isAuthenticated,roles:e.payload.roles,error:null};case"LOGIN_FAILURE":return{...t,user:null,isAuthenticated:!1,roles:[],error:e.payload};case"LOGOUT":return{...t,user:null,isAuthenticated:!1,roles:[],error:null};case"SESSION_EXPIRED":return{...t,user:null,isAuthenticated:!1,roles:[],error:"La sesiÃ³n ha expirado."};default:return t}},ui(t=S,e){switch(e.type){case"SHOW_SPINNER":return{...t,loading:!0};case"HIDE_SPINNER":return{...t,loading:!1};default:return t}}},(t={},e)=>{const n={};for(const r in C)({}).hasOwnProperty.call(C,r)&&(n[r]=C[r](t[r],e));return n}));function A(t,e={}){return{...{content:{backgroundColor:"#f5f5f5",padding:"16px",minHeight:"200px"},header:{backgroundColor:"#333",color:"white",padding:"12px",height:"60px"},sidebar:{backgroundColor:"#e0e0e0",width:"250px"},footer:{backgroundColor:"#333",color:"white",padding:"12px",height:"40px"},card:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",padding:"16px"},page:{display:"grid",gridTemplateColumns:"1fr",gridAutoRows:"minmax(0px, auto)",padding:"10px",backgroundColor:"green",minHeight:"100vh",boxSizing:"border-box"}}[t]||{},...e}}let R=null,z=0,E=0,T=null,_=null,O=null;const P={create(t){const e=document.createElement("div");return Object.assign(e.style,{display:"flex",flexDirection:"column",alignItems:"stretch",backgroundColor:"#2c3e50",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",padding:"16px",margin:"10px 0",color:"#ecf0f1",...t.styles}),t.children?.forEach((t=>{const n=de(t.type).create(t);e.appendChild(n)})),e}},I=P,D={create(t){const e=document.createElement("button");return e.textContent=t.label||"Click",Object.assign(e.style,{padding:"10px 16px",backgroundColor:"#6200EE",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",...t.styles}),t.onClick&&"function"==typeof t.onClick&&e.addEventListener("click",t.onClick),e},prototypeStyle:{border:"1px dashed #E91E63",backgroundColor:"rgba(233, 30, 99, 0.1)"}},j={create(t){const e=document.createElement("input");return e.type=t.inputType||"text",e.placeholder=t.placeholder||"",Object.assign(e.style,{flex:"1 1 auto",padding:"10px",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",margin:"0 0 1rem 0",...t.styles}),t.onInput&&e.addEventListener("input",t.onInput),e}},N=j,M={create(t){const e=document.createElement("img");return e.src=t.src||"",e.alt=t.alt||"logo",Object.assign(e.style,{maxWidth:"150px",height:"auto",display:"block",margin:"0 auto",...t.styles}),e}},L=M,F={login:'<path d="M10 17l5-5-5-5v3H0v4h10v3zm9-14H5c-1.1 0-2 .9-2 2v4h2V5h14v14H5v-6H3v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>',user:'<path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/>'},B={create(t){const e=document.createElement("span");Object.assign(e.style,{display:"inline-block",width:t.size||"24px",height:t.size||"24px",...t.styles});const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("width","100%"),r.setAttribute("height","100%");const o=F[t.name],i=document.createElementNS(n,"path");return o&&i.setAttribute("d",o.match(/d="([^"]+)"/)?.[1]||""),i.setAttribute("fill","currentColor"),r.appendChild(i),e.appendChild(r),e}},q={create(t){const e=document.createElement("div");return e.textContent=t.content||"",Object.assign(e.style,{fontFamily:"monospace",whiteSpace:"pre",padding:"8px",...t.styles}),e},prototypeStyle:{border:"1px dashed #4CAF50",backgroundColor:"rgba(76, 175, 80, 0.1)"}},W={create(t){const e=document.createElement("pre");e.dataset.type="json",t.apiConfig&&(e.apiConfig=t.apiConfig),e.updateContent=()=>{e.textContent=JSON.stringify(e.data||t.data||{},null,2)};const n=async()=>{if(t.apiConfig){try{const n=await fetch(t.apiConfig.endpoint);e.data=await n.json()}catch(t){e.data={error:t.message}}e.updateContent(),t.apiConfig.refreshInterval&&setInterval(n,t.apiConfig.refreshInterval)}else e.data=t.data,e.updateContent()};return n(),Object.assign(e.style,{fontFamily:"monospace",backgroundColor:"greenYellow",padding:"10px",borderRadius:"4px",overflow:"auto",margin:"0",...t.styles}),e}};let H={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Z(t){H=t}const U={exec(){return null}};function G(t,e=""){let n="string"==typeof t?t:t.source;const r={replace(t,e){let o="string"==typeof e?e:e.source;return o=o.replace(X.caret,"$1"),n=n.replace(t,o),r},getRegex(){return RegExp(n,e)}};return r}const X={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex(t){return RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`)},nextBulletRegex(t){return RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`)},hrRegex(t){return RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`)},fencesBeginRegex(t){return RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`)},headingBeginRegex(t){return RegExp(`^ {0,${Math.min(3,t-1)}}#`)},htmlBeginRegex(t){return RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")}},Y=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,J=/(?:[*+-]|\d{1,9}[.)])/,V=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,K=G(V).replace(/bull/g,J).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Q=G(V).replace(/bull/g,J).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),tt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,et=/(?!\s*\])(?:\\.|[^\[\]\\])+/,nt=G(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",et).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rt=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,J).getRegex(),ot="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",it=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,at=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",it).replace("tag",ot).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),st=G(tt).replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot).getRegex(),ct={blockquote:G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",st).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:nt,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Y,html:at,lheading:K,list:rt,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:st,table:U,text:/^[^\n]+/},lt=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot).getRegex(),dt={...ct,lheading:Q,table:lt,paragraph:G(tt).replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",lt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ot).getRegex()},ut={...ct,html:G("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",it).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(tt).replace("hr",Y).replace("heading"," *#{1,6} *[^\n]").replace("lheading",K).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pt=/^( {2,}|\\)\n(?!\s*$)/,ht=/[\p{P}\p{S}]/u,ft=/[\s\p{P}\p{S}]/u,gt=/[^\s\p{P}\p{S}]/u,bt=G(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ft).getRegex(),mt=/(?!~)[\p{P}\p{S}]/u,xt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,yt=G(xt,"u").replace(/punct/g,ht).getRegex(),kt=G(xt,"u").replace(/punct/g,mt).getRegex(),wt="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",vt=G(wt,"gu").replace(/notPunctSpace/g,gt).replace(/punctSpace/g,ft).replace(/punct/g,ht).getRegex(),St=G(wt,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,mt).getRegex(),Ct=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gt).replace(/punctSpace/g,ft).replace(/punct/g,ht).getRegex(),$t=G(/\\(punct)/,"gu").replace(/punct/g,ht).getRegex(),At=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Rt=G(it).replace("(?:--\x3e|$)","--\x3e").getRegex(),zt=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Rt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Et=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Tt=G(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Et).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_t=G(/^!?\[(label)\]\[(ref)\]/).replace("label",Et).replace("ref",et).getRegex(),Ot=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",et).getRegex(),Pt={l:U,anyPunctuation:$t,autolink:At,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:pt,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:U,emStrongLDelim:yt,emStrongRDelimAst:vt,emStrongRDelimUnd:Ct,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Tt,nolink:Ot,punctuation:bt,reflink:_t,reflinkSearch:G("reflink|nolink(?!\\()","g").replace("reflink",_t).replace("nolink",Ot).getRegex(),tag:zt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:U},It={...Pt,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",Et).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Et).getRegex()},Dt={...Pt,emStrongRDelimAst:St,emStrongLDelim:kt,url:G(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),l:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jt={...Dt,br:G(pt).replace("{2,}","*").getRegex(),text:G(Dt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nt={normal:ct,gfm:dt,pedantic:ut},Mt={normal:Pt,gfm:Dt,breaks:jt,pedantic:It},Lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ft=t=>Lt[t];function Bt(t,e){if(e){if(X.escapeTest.test(t))return t.replace(X.escapeReplace,Ft)}else if(X.escapeTestNoEncode.test(t))return t.replace(X.escapeReplaceNoEncode,Ft);return t}function qt(t){try{t=encodeURI(t).replace(X.percentDecode,"%")}catch{return null}return t}function Wt(t,e){const n=t.replace(X.findPipe,((t,e,n)=>{let r=!1,o=e;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(X.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(X.slashPipe,"|");return n}function Ht(t,e,n){const r=t.length;if(0===r)return"";let o=0;for(;o<r&&t.charAt(r-o-1)===e;)o++;return t.slice(0,r-o)}function Zt(t,e,n,r,o){const i=e.href,a=e.title||null,s=t[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;const c={type:"!"===t[0].charAt(0)?"image":"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,c}class Ut{options;rules;lexer;constructor(t){this.options=t||H}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ht(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(null===r)return e;const o=r[1];return e.split("\n").map((t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[r]=e;return r.length>=o.length?t.slice(o.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=Ht(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ht(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=Ht(e[0],"\n").split("\n"),n="",r="";const o=[];for(;t.length>0;){let e=!1;const i=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))i.push(t[a]),e=!0;else{if(e)break;i.push(t[a])}t=t.slice(a);const s=i.join("\n"),c=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${c}`:c;const l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,o,!0),this.lexer.state.top=l,0===t.length)break;const d=o.at(-1);if("code"===d?.type)break;if("blockquote"===d?.type){const e=d,i=e.raw+"\n"+t.join("\n"),a=this.blockquote(i);o[o.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,r=r.substring(0,r.length-e.text.length)+a.text;break}if("list"!==d?.type);else{const e=d,i=e.raw+"\n"+t.join("\n"),a=this.list(i);o[o.length-1]=a,n=n.substring(0,n.length-d.raw.length)+a.raw,r=r.substring(0,r.length-e.raw.length)+a.raw,t=i.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?"\\d{1,9}\\"+n.slice(-1):"\\"+n,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let n=!1,r="",s="";if(!(e=i.exec(t)))break;if(this.rules.block.hr.test(t))break;r=e[0],t=t.substring(r.length);let c=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),l=t.split("\n",1)[0],d=!c.trim(),u=0;if(this.options.pedantic?(u=2,s=c.trimStart()):d?u=e[1].length+1:(u=e[2].search(this.rules.other.nonSpaceChar),u=u>4?1:u,s=c.slice(u),u+=e[1].length),d&&this.rules.other.blankLine.test(l)&&(r+=l+"\n",t=t.substring(l.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(u),n=this.rules.other.hrRegex(u),o=this.rules.other.fencesBeginRegex(u),i=this.rules.other.headingBeginRegex(u),a=this.rules.other.htmlBeginRegex(u);for(;t;){const p=t.split("\n",1)[0];let h;if(l=p,this.options.pedantic?(l=l.replace(this.rules.other.listReplaceNesting,"  "),h=l):h=l.replace(this.rules.other.tabCharGlobal,"    "),o.test(l))break;if(i.test(l))break;if(a.test(l))break;if(e.test(l))break;if(n.test(l))break;if(h.search(this.rules.other.nonSpaceChar)>=u||!l.trim())s+="\n"+h.slice(u);else{if(d)break;if(c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(c))break;if(i.test(c))break;if(n.test(c))break;s+="\n"+l}d||l.trim()||(d=!0),r+=p+"\n",t=t.substring(p.length+1),c=h.slice(u)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let p,h=null;this.options.gfm&&(h=this.rules.other.listIsTask.exec(s),h&&(p="[ ] "!==h[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:r,task:!!h,checked:p,loose:!1,text:s,tokens:[]}),o.raw+=r}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let t=0;t<o.items.length;t++)if(this.lexer.state.top=!1,o.items[t].tokens=this.lexer.blockTokens(o.items[t].text,[]),!o.loose){const e=o.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));o.loose=n}if(o.loose)for(let t=0;t<o.items.length;t++)o.items[t].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const n=Wt(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const t of r)this.rules.other.tableAlignRight.test(t)?i.align.push("right"):this.rules.other.tableAlignCenter.test(t)?i.align.push("center"):this.rules.other.tableAlignLeft.test(t)?i.align.push("left"):i.align.push(null);for(let t=0;t<n.length;t++)i.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:i.align[t]});for(const t of o)i.rows.push(Wt(t,i.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:i.align[e]}))));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=Ht(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t){if(-1===t.indexOf(")"))return-1;let e=0;for(let n=0;n<t.length;n++)if("\\"===t[n])n++;else if("("===t[n])e++;else if(")"===t[n]&&(e--,e<0))return n;return e>0?-2:-1}(e[2]);if(-2===t)return;if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),Zt(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Zt(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(r&&(!r[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,a=n,s=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=c.exec(e));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const e=[...r[0]][0].length,c=t.slice(0,n+r.index+e+i);if(Math.min(n,i)%2){const t=c.slice(1,-1);return{type:"em",raw:c,text:t,tokens:this.lexer.inlineTokens(t)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=e[0],n="mailto:"+t;else{let r;do{r=e[0],e[0]=this.rules.inline.l.exec(e[0])?.[0]??""}while(r!==e[0]);t=e[0],n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class Gt{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||H,this.options.tokenizer=this.options.tokenizer||new Ut,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:X,block:Nt.normal,inline:Mt.normal};this.options.pedantic?(e.block=Nt.pedantic,e.inline=Mt.pedantic):this.options.gfm&&(e.block=Nt.gfm,this.options.breaks?e.inline=Mt.breaks:e.inline=Mt.gfm),this.tokenizer.rules=e}static get rules(){return{block:Nt,inline:Mt}}static lex(t,e){return new Gt(e).lex(t)}static lexInline(t,e){return new Gt(e).inlineTokens(t)}lex(t){t=t.replace(X.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(X.tabCharGlobal,"    ").replace(X.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);const n=e.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}let o=t;if(this.options.extensions?.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const i=e.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):e.push(r),n=o.length!==t.length,t=t.substring(r.raw.length)}else if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,r=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)t.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,i="";for(;t;){let r;if(o||(i=""),o=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,n,i)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),e.push(r);continue}let a=t;if(this.options.extensions?.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(r=this.tokenizer.inlineText(a)){t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),o=!0;const n=e.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw Error(e)}}return e}}class Xt{options;parser;constructor(t){this.options=t||H}space(t){return""}code({text:t,lang:e,escaped:n}){const r=(e||"").match(X.notSpaceStart)?.[0],o=t.replace(X.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Bt(r)+'">'+(n?o:Bt(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Bt(o,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let r="";for(let e=0;e<t.items.length;e++){const n=t.items[e];r+=this.listitem(n)}const o=e?"ol":"ul";return"<"+o+(e&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+Bt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let r="";for(let e=0;e<t.rows.length;e++){const o=t.rows[e];n="";for(let t=0;t<o.length;t++)n+=this.tablecell(o[t]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+r+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Bt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),o=qt(t);if(null===o)return r;let i='<a href="'+(t=o)+'"';return e&&(i+=' title="'+Bt(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const o=qt(t);if(null===o)return Bt(n);let i=`<img src="${t=o}" alt="${n}"`;return e&&(i+=` title="${Bt(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Bt(t.text)}}class Yt{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Jt{options;renderer;textRenderer;constructor(t){this.options=t||H,this.options.renderer=this.options.renderer||new Xt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yt}static parse(t,e){return new Jt(e).parse(t)}static parseInline(t,e){return new Jt(e).parseInline(t)}parse(t,e=!0){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=o,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const i=o;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let o=i,a=this.renderer.text(o);for(;r+1<t.length&&"text"===t[r+1].type;)o=t[++r],a+="\n"+this.renderer.text(o);n+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return"";throw Error(t)}}}return n}parseInline(t,e=this.renderer){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=t||"";continue}}const i=o;switch(i.type){case"escape":case"text":n+=e.text(i);break;case"html":n+=e.html(i);break;case"link":n+=e.link(i);break;case"image":n+=e.image(i);break;case"strong":n+=e.strong(i);break;case"em":n+=e.em(i);break;case"codespan":n+=e.codespan(i);break;case"br":n+=e.br(i);break;case"del":n+=e.del(i);break;default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return"";throw Error(t)}}}return n}}class Vt{options;block;constructor(t){this.options=t||H}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Gt.lex:Gt.lexInline}provideParser(){return this.block?Jt.parse:Jt.parseInline}}const Kt=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Jt;Renderer=Xt;TextRenderer=Yt;Lexer=Gt;Tokenizer=Ut;Hooks=Vt;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const t=r;for(const r of t.header)n=n.concat(this.walkTokens(r.tokens,e));for(const r of t.rows)for(const t of r)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=r;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=r;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((r=>{const o=t[r].flat(1/0);n=n.concat(this.walkTokens(o,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new Xt(this.defaults);for(const n in t.renderer){if(!(n in e))throw Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=t.renderer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new Ut(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=t.tokenizer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new Vt;for(const n in t.hooks){if(!(n in e))throw Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=t.hooks[r],i=e[r];Vt.passThroughHooks.has(n)?e[r]=t=>{if(this.defaults.async)return Promise.resolve(o.call(e,t)).then((t=>i.call(e,t)));const n=o.call(e,t);return i.call(e,n)}:e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,r=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(r.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Gt.lex(t,e??this.defaults)}parser(t,e){return Jt.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return i(Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return i(Error("marked(): input parameter is of type "+{}.toString.call(e)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const a=o.hooks?o.hooks.provideLexer():t?Gt.lex:Gt.lexInline,s=o.hooks?o.hooks.provideParser():t?Jt.parse:Jt.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(e):e).then((t=>a(t,o))).then((t=>o.hooks?o.hooks.processAllTokens(t):t)).then((t=>o.walkTokens?Promise.all(this.walkTokens(t,o.walkTokens)).then((()=>t)):t)).then((t=>s(t,o))).then((t=>o.hooks?o.hooks.postprocess(t):t)).catch(i);try{o.hooks&&(e=o.hooks.preprocess(e));let t=a(e,o);o.hooks&&(t=o.hooks.processAllTokens(t)),o.walkTokens&&this.walkTokens(t,o.walkTokens);let n=s(t,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(t){return i(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+Bt(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function Qt(t,e){return Kt.parse(t,e)}Qt.options=Qt.setOptions=function(t){return Kt.setOptions(t),Qt.defaults=Kt.defaults,Z(Qt.defaults),Qt},Qt.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Qt.defaults=H,Qt.use=function(...t){return Kt.use(...t),Qt.defaults=Kt.defaults,Z(Qt.defaults),Qt},Qt.walkTokens=function(t,e){return Kt.walkTokens(t,e)},Qt.parseInline=Kt.parseInline,Qt.Parser=Jt,Qt.parser=Jt.parse,Qt.Renderer=Xt,Qt.TextRenderer=Yt,Qt.Lexer=Gt,Qt.lexer=Gt.lex,Qt.Tokenizer=Ut,Qt.Hooks=Vt,Qt.parse=Qt,Qt.options,Qt.setOptions,Qt.use,Qt.walkTokens,Qt.parseInline,Jt.parse,Gt.lex;const te={create(t){const e=document.createElement("div");return e.innerHTML=Qt.parse(t.content||""),Object.assign(e.style,{fontFamily:"Arial, sans-serif",lineHeight:"1.6",padding:"12px",...t.styles}),e},prototypeStyle:{border:"1px dashed #FF9800",backgroundColor:"rgba(255, 152, 0, 0.1)"}},ee={create(t){const e=document.createElement("table"),n=document.createElement("thead"),r=document.createElement("tbody"),o=t.footer?document.createElement("tfoot"):null;Object.assign(e.style,{width:"100%",tableLayout:t.fixedLayout?"fixed":"auto",borderCollapse:"collapse",margin:"16px 0",fontSize:"14px",...t.styles});const i=document.createElement("colgroup");if(t.columnsWidth&&(t.columnsWidth.forEach((t=>{const e=document.createElement("col");e.style.width=t,i.appendChild(e)})),e.appendChild(i)),t.headers){const r=document.createElement("tr");t.headers.forEach(((e,n)=>{const o=document.createElement("th");o.textContent=e,Object.assign(o.style,{padding:"12px 15px",border:"1px solid white",textAlign:"left",fontWeight:"600",position:"sticky",top:"0",whiteSpace:"nowrap",...t.headerStyles,...t.columnStyles&&t.columnStyles[n]}),r.appendChild(o)})),n.appendChild(r),e.appendChild(n)}if(t.rows&&(t.rows.forEach(((e,n)=>{const o=document.createElement("tr");Object.assign(o.style,{width:"100%",...n%2==0?t.evenRowStyles:t.oddRowStyles}),e.forEach(((e,n)=>{const r=document.createElement("td");r.textContent=e,Object.assign(r.style,{padding:"12px 15px",width:t.columnsWidth?t.columnsWidth[n]:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",...t.cellStyles,...t.columnStyles&&t.columnStyles[n]}),o.appendChild(r)})),r.appendChild(o)})),e.appendChild(r)),o&&t.footer){const n=document.createElement("tr");t.footer.forEach(((e,r)=>{const o=document.createElement("td");o.textContent=e,Object.assign(o.style,{padding:"12px 15px",width:t.columnsWidth?t.columnsWidth[r]:"auto",...t.footerStyles}),n.appendChild(o)})),o.appendChild(n),e.appendChild(o)}return e}},ne=ee,re={create(t){const e=document.createElement("div");return e.innerHTML=t.content||"",Object.assign(e.style,{padding:"10px",...t.styles}),e},prototypeStyle:{border:"1px dashed #607D8B",backgroundColor:"rgba(96, 125, 139, 0.1)"}},oe={create(t,{onRouteChange:e}={}){const n=document.createElement("div");n.className="dynamic-terminal",Object.assign(n.style,{backgroundColor:"#0d0d0d",color:"#0f0",fontFamily:"'Courier New', monospace",padding:"10px",borderRadius:"4px",overflow:"auto",maxHeight:"300px",whiteSpace:"pre-wrap",...t.styles});const r=document.createElement("div");r.textContent="$ ",r.style.color="#4CAF50",n.appendChild(r);const o=document.createElement("div");o.style.display="flex";const i=document.createElement("span");i.textContent="$ ",i.style.color="#4CAF50",i.style.marginRight="8px";const a=document.createElement("input");return a.type="text",Object.assign(a.style,{backgroundColor:"transparent",border:"none",color:"#fff",fontFamily:"'Courier New', monospace",flexGrow:"1",outline:"none"}),a.addEventListener("keydown",(t=>{if("Enter"===t.key){const t=a.value;a.value="";const e=document.createElement("div");e.style.display="flex",e.innerHTML=`<span style="color:#4CAF50">$ </span><span style="font-weight:bold">${t}</span>`,n.appendChild(e);const r=document.createElement("div");r.textContent=t.startsWith("navigate ")?"Redirigiendo a: "+t.split(" ")[1]:"Comando no reconocido: "+t,r.style.marginLeft="20px",r.style.color="#aaa",n.appendChild(r),n.scrollTop=n.scrollHeight}})),o.appendChild(i),o.appendChild(a),n.appendChild(o),n.addEventListener("click",(()=>a.focus())),n}},ie=oe,ae={create(t){const e=document.createElement("div");return Object.assign(e.style,{display:"flex",flexDirection:"column",backgroundColor:"#ecf0f1",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",padding:"16px",margin:"10px 0",color:"#2c3e50",...t.styles}),t.children?.forEach((t=>{const n=de(t.type).create(t);e.appendChild(n)})),container},prototypeStyle:{border:"1px dashed #795548",backgroundColor:"rgba(121, 85, 72, 0.1)"}},se={create(t){return document.createElement("div")},prototypeStyle:{border:"1px dashed #FF9800",backgroundColor:"rgba(255, 152, 0, 0.1)"}},ce={create(t){const e=document.createElement("div");e.className="data-grid-container",Object.assign(e.style,{width:"100%",maxWidth:"100%",overflowX:"auto",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",...t.containerStyles});const n=document.createElement("table");n.className="data-grid-table",Object.assign(n.style,{width:"100%",minWidth:t.minWidth||"100%",tableLayout:"auto",borderCollapse:"collapse",fontSize:"14px",...t.tableStyles});const r=document.createElement("colgroup");t.columns.forEach((t=>{const e=document.createElement("col");e.style.minWidth=t.minWidth||"100px",e.style.width=t.width||"auto",e.style.maxWidth=t.maxWidth||"1fr",r.appendChild(e)})),n.appendChild(r);const o=document.createElement("thead"),i=document.createElement("tr");i.className="header-row",t.columns.forEach(((t,e)=>{const n=document.createElement("th");n.textContent=t.title,Object.assign(n.style,{padding:"12px 16px",textAlign:"left",fontWeight:"600",backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0",zIndex:"10",whiteSpace:"nowrap",borderRight:"1px solid #3d566e",...t.headerStyles}),i.appendChild(n)})),o.appendChild(i),n.appendChild(o);const a=document.createElement("tbody");return t.data.forEach(((e,n)=>{const r=document.createElement("tr");r.className="data-row "+(n%2==0?"even":"odd"),t.columns.forEach(((o,i)=>{const a=document.createElement("td"),s=o.formatter?o.formatter(e[o.field],e):e[o.field];a.textContent=s,Object.assign(a.style,{padding:"10px 16px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:n%2==0?t.evenRowColor||"#f8f9fa":t.oddRowColor||"white",...o.cellStyles,...o.dynamicStyles?o.dynamicStyles(e[o.field],e):{}}),r.appendChild(a)})),r.addEventListener("mouseenter",(()=>{r.style.backgroundColor="#e8f4fc"})),r.addEventListener("mouseleave",(()=>{r.style.backgroundColor=n%2==0?t.evenRowColor||"#f8f9fa":t.oddRowColor||"white"})),a.appendChild(r)})),n.appendChild(a),e.appendChild(n),e}},le={NUNJUCKS:se,DATAGRID:ce,CARD:I,BUTTON:D,INPUT:N,LOGO:L,ICON:B,TEXT:q,JSON:W,MARKDOWN:te,CONTAINER:ae,TABLE:ne,HTML:re,TERMINAL:ie},de=t=>le[t?.toUpperCase()]||le.TEXT;function ue(t,e){const n=Array.isArray(t)?t:[t],r=function(t){return"string"==typeof t?document.querySelector(t)||document.getElementById(t.replace("#",""))||document.querySelector("."+t):t instanceof HTMLElement?t:null}(e);if(!r)throw Error("Contenedor no encontrado: "+e);return r.innerHTML="",n.map((t=>{const e=function(t,e={}){if(!(t&&t instanceof HTMLElement))return null;try{const n=function(t={}){const{role:e="content",layout:n=null,elements:r=[],columns:o=3,styles:i={},nestedContainers:a=!0,draggable:s=!1,containerClass:c="",isRootContainer:l=!0,flex:d=!1,...u}=t,p=document.createElement("div");p.className=`dynamic-layout ${e} ${c}`,p.dataset.role=e;const h=n?{display:"grid",gridTemplateColumns:n.columns.join(" "),gridTemplateRows:n.rows.join(" "),gridTemplateAreas:n.areas.map((t=>`"${t.join(" ")}"`)).join(" "),...n.styles||{}}:{display:"grid",gridTemplateColumns:`repeat(${o}, 1fr)`,gap:"8px"};Object.assign(p.style,{boxSizing:"border-box",...A(e,i),...h,...i});const f=(t,e)=>{if("container"===t.type){const n=document.createElement(t.tag||"div");Object.assign(n.style,t.styles||{}),t.area&&(n.style.gridArea=t.area),t.children&&t.children.forEach((t=>{f(t,n)})),e.appendChild(n)}else{const n=function(t,e,n=!0){const r=de(t.type).create(t);r.id="element-"+e,r.className="layout-element "+(t.className||""),r.dataset.type=t.type;const o={position:"relative",cursor:n?"grab":t.type,userSelect:"none",transition:"all 0.2s ease",zIndex:"1",boxSizing:"border-box",display:"flex",flex:t.type,minHeight:"min-content"};return Object.assign(r.style,o),n&&function(t,e=t,n={}){const{isContainer:r=!1,onDragStart:o=()=>{},onDragEnd:i=()=>{},onDrop:a=()=>{}}=n;function s(t){var e,n;R&&(t.preventDefault(),R.style.left=t.clientX-z+"px",R.style.top=t.clientY-E+"px",e=t.clientX,n=t.clientY,document.querySelectorAll(r?".layout-container":".drop-zone").forEach((t=>{const r=t.getBoundingClientRect(),o=e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom;t.style.backgroundColor=o?"rgba(98, 0, 234, 0.05)":"",t.style.borderColor=o?"#6200ea":"rgba(98, 0, 234, 0.3)"})))}function c(e){R&&(e.preventDefault(),function(e,n){const o=document.querySelectorAll(r?".layout-container":".drop-zone");let i=null,s=null;o.forEach((r=>{if(r===t||r.contains(t))return;const o=r.getBoundingClientRect();if(e>=o.left&&e<=o.right&&n>=o.top&&n<=o.bottom){i=r;const t=Array.from(r.children);for(let e=0;e<t.length;e++){const r=t[e].getBoundingClientRect();if(n<r.top+r.height/2){s=t[e];break}}}})),i?(s?i.insertBefore(t,s):i.appendChild(t),a(t,i)):(T&&(_?T.insertBefore(t,_):T.appendChild(t)),t.style.position="absolute",t.style.left="0",t.style.top="0")}(e.clientX,e.clientY),t.style.position="",t.style.zIndex="",t.style.boxShadow="",t.style.opacity="",t.style.width="",t.style.pointerEvents="",t.style.cursor="",l(!1),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c),i(R),R=null)}function l(t){document.querySelectorAll(r?".layout-container":".drop-zone").forEach((e=>{e.style.transition="all 0.2s ease",e.style.border=t?"2px dashed rgba(98, 0, 234, 0.3)":""}))}e.addEventListener("mousedown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),R=t,O=t.getBoundingClientRect(),T=t.parentNode,_=t.nextSibling,z=e.clientX-O.left,E=e.clientY-O.top,t.style.position="fixed",t.style.zIndex="1000",t.style.boxShadow="0 10px 20px rgba(0,0,0,0.2)",t.style.opacity="0.9",t.style.width=O.width+"px",t.style.pointerEvents="none",t.style.cursor="grabbing",t.style.left=e.clientX-z+"px",t.style.top=e.clientY-E+"px",l(!0),document.addEventListener("mousemove",s),document.addEventListener("mouseup",c),o(t))}))}(r,r,{isContainer:!1,onDragStart(t){t.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},onDragEnd(t){t.style.boxShadow=""}}),r}(t,Math.random().toString(36).substr(2,9),s);e.appendChild(n)}};return r.forEach((t=>{f(t,p)})),p.addElement=(t,e=p)=>(f(t,e),"element-"+Math.random().toString(36).substr(2,9)),p.removeElement=t=>{const e=p.querySelector("#"+t);return!!e&&(e.remove(),!0)},p.updateLayout=e=>{Object.assign(t,e)},p}(e);return t.appendChild(n),n}catch(t){return null}}(r,t);return{element:e,unmount(){return e?.remove()},getConfig(){return{...t}}}}))}const pe={type:"container",area:"navbar",tag:"header",styles:{position:"sticky",top:"0",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",height:"4rem",backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(0, 0, 0, 0.05)",zIndex:"1000",transition:"all 0.3s ease"},children:[{type:"container",styles:{display:"flex",alignItems:"center",gap:"2rem"},children:[{type:"text",content:"MiAplicaciÃ³n",styles:{fontSize:"1.5rem",fontWeight:"700",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.5px"}},{type:"container",styles:{display:"flex",gap:"1.5rem"},children:[{type:"link",content:"Inicio",href:"#",styles:{color:"#4a5568",fontWeight:"500",transition:"color 0.2s",":hover":{color:"#667eea"}}},{type:"link",content:"Productos",href:"#",styles:{color:"#4a5568",fontWeight:"500",transition:"color 0.2s",":hover":{color:"#667eea"}}},{type:"link",content:"Contacto",href:"#",styles:{color:"#4a5568",fontWeight:"500",transition:"color 0.2s",":hover":{color:"#667eea"}}}]}]},{type:"container",styles:{display:"flex",alignItems:"center",gap:"1rem"},children:[{type:"button",content:"MenÃº",styles:{padding:"0.5rem 1.25rem",backgroundColor:"transparent",color:"#667eea",border:"1px solid #667eea",borderRadius:"0.375rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",":hover":{backgroundColor:"#667eea",color:"white",transform:"translateY(-1px)"},":active":{transform:"translateY(0)"}},onClick(t){}},{type:"avatar",image:"https://randomuser.me/api/portraits/men/1.jpg",size:"2.5rem",styles:{borderRadius:"50%",border:"2px solid #edf2f7",cursor:"pointer",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}}]}]},he=[{path:"/home",title:"Inicio",icon:"ð ",children:[{path:"/specialties",title:"Especialidades",icon:"ð¥",children:[{path:"/dental",title:"Dental",icon:"ð¦·"},{path:"/medical",title:"Medical",icon:"ð",children:[{path:"/radiology",title:"RadiologÃ­a",icon:"ð¡"}]}]}]},{path:"/about",title:"Sobre Nosotros",icon:"ð"},{path:"/login",title:"Iniciar SesiÃ³n",icon:"ð",private:!1},{path:"/register",title:"Registrarse",icon:"ð",private:!1}],fe=(t,e,n,r=0)=>t.filter((t=>!t.private)).map((t=>{const o=n===t.path,i=t.children&&t.children.length>0,s={type:"button",label:`${t.icon||(c=t.title,c?{dashboard:"ð ",inicio:"ð ",home:"ð ",usuarios:"ð¥",users:"ð¥",productos:"ð¦",products:"ð¦",ajustes:"âï¸",settings:"âï¸",perfil:"ð¤",profile:"ð¤",reportes:"ð",reports:"ð",ventas:"ð°",sales:"ð°",especialidades:"ð¥",specialties:"ð¥",dental:"ð¦·",medical:"ð",radiologÃ­a:"ð¡",radiology:"ð¡",sobre:"ð",about:"ð",login:"ð",register:"ð",configuraciÃ³n:"âï¸"}[c.toLowerCase()]||"ð¹":"â¢")} ${t.title}`,styles:{background:o?"rgba(255,255,255,0.2)":"none",border:"none",color:"white",fontSize:r>0?"0.9rem":"1rem",display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"4px",marginBottom:"4px",cursor:"pointer",textAlign:"left",":hover":{backgroundColor:"rgba(255,255,255,0.1)",transition:"background-color 0.2s ease"},marginLeft:12*r+"px",fontWeight:o?"bold":"normal",transition:"all 0.2s ease"},onClick(){o||(a("Navegando a: "+t.path),e?.(t.path))}};var c;return i?{type:"container",styles:{display:"flex",flexDirection:"column"},children:[s,...fe(t.children,e,n,r+1)]}:s})),ge=(t=[],e,n="/")=>{const r=t.length?t:he;return{area:"sidebar",type:"container",tag:"aside",styles:{backgroundColor:"#34495e",color:"white",overflowY:"auto",padding:"10px",display:"flex",flexDirection:"column",gap:"8px"},children:[{type:"container",styles:{backgroundColor:"#2c3e50",color:"white",padding:"10px 0",display:"flex",flex:1,flexDirection:"column",flexShrink:"0"},children:fe(r,e,n)},{type:"container",styles:{backgroundColor:"#1a2634",color:"white",padding:"10px",borderTop:"1px solid #34495e",flexShrink:"0"},children:[{type:"button",label:"âï¸ ConfiguraciÃ³n",styles:{background:"/settings"===n?"rgba(255,255,255,0.2)":"none",border:"none",color:"white",fontSize:"0.9rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"4px",width:"100%",textAlign:"left",":hover":{backgroundColor:"rgba(255,255,255,0.1)"}},onClick(){"/settings"!==n&&(a("ConfiguraciÃ³n clickeada"),e?.("/settings"))}}]}]}},be={"/home"(){return{type:"container",children:[{type:"json",data:null,styles:{marginBottom:"1rem"},apiConfig:{endpoint:"/api/routes",refreshInterval:3e4}},{type:"button",label:"Actualizar Rutas API",styles:{backgroundColor:"#4CAF50"},async onClick(){const t=this.parentElement.querySelector('[data-type="json"]');try{const e=await fetch(t.apiConfig.endpoint);t.data=await e.json(),t.updateContent()}catch(e){t.data={error:"No se pudo cargar las rutas API"},t.updateContent()}}}]}},"/about"(){return{type:"container",children:[{type:"markdown",content:"# Sobre Nosotros\n\n**Sistema de GestiÃ³n MÃ©dica**\n\n- Fundado en 2023\n- Especializado en clÃ­nicas\n- Soporte 24/7\n\n[Contacto](mailto:info@clinica.com)",styles:{backgroundColor:"#f9f9f9",padding:"1rem",borderRadius:"8px",fontSize:"1rem",lineHeight:"1.6",color:"#333"}},...Array.from({length:20},((t,e)=>({type:"button",label:"BotÃ³n "+(e+1),styles:{display:"block",width:"100%",margin:"8px 0",padding:"10px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px"}})))]}},"/login"(){return{type:"card",styles:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"400px",maxWidth:"90%",margin:"5rem auto",padding:"2.5rem",backgroundColor:"#f7f9fa",borderRadius:"4px",border:"1px solid #ddd",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[{type:"logo",src:"/assets/logo.png",alt:"MiApp",styles:{width:"64px",height:"64px",margin:"0 auto 1.5rem"}},{type:"text",content:"Bienvenido de nuevo",styles:{fontSize:"1.75rem",fontWeight:"700",textAlign:"center",marginBottom:"2rem",color:"#222"}},{type:"input",inputType:"email",placeholder:"Correo electrÃ³nico",styles:{marginBottom:"1rem",padding:"1rem",fontSize:"1rem"}},{type:"input",inputType:"password",placeholder:"ContraseÃ±a",styles:{marginBottom:"1.5rem",padding:"1rem",fontSize:"1rem"}},{type:"icon",name:"login",size:"36px",styles:{color:"#4CAF50",margin:"0 auto 1rem"}},{type:"button",label:"Ingresar",styles:{padding:"0.75rem 1.5rem",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#fff",borderRadius:"4px",alignSelf:"center",minWidth:"160px"},onClick(){alert("Â¡Login enviado!")}}]}},"/register":(()=>{let t=0;return({refresh:e,state:n={}})=>(t=n.clickCount??t,a("Renderizando RegisterController. Contador: "+t),{type:"container",styles:{padding:"20px",backgroundColor:"#2c3e50",borderRadius:"8px",color:"white"},children:[{type:"text",content:"Clicks: "+t,styles:{fontSize:"1.2rem",marginBottom:"15px"}},{type:"button",label:"Haz clic",styles:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},onClick(){t++,a("Contador incrementado a: "+t),e({clickCount:t})}},{type:"button",label:"Reiniciar",styles:{padding:"10px 20px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},onClick(){a("Reiniciando contador desde: "+t),t=0,e({clickCount:t})}}]})})(),"/dashboard"(){return{type:"terminal",commands:[{command:"init system",output:"Sistema de dashboard inicializado",isError:!1},{command:"load user_data",output:"Error: No autorizado",isError:!0}],styles:{backgroundColor:"#0a192f"}}},"/dashboard/profile"(){return{type:"container",children:[{type:"text",content:"Perfil de Usuario",styles:{fontSize:"1.5rem",marginBottom:"1rem"}},{type:"table",headers:["Campo","Valor"],rows:[["Nombre","Dr. Juan PÃ©rez"],["Especialidad","CardiologÃ­a"],["Horario","L-V 8am-4pm"]],styles:{maxWidth:"600px"}}]}},"/home/specialties"(){return{type:"datagrid",minWidth:"600px",columns:[{field:"id",title:"ID",minWidth:"80px",width:"80px",headerStyles:{textAlign:"center"},cellStyles:{textAlign:"center"}},{field:"specialty",title:"Especialidad MÃ©dica",minWidth:"200px",width:"1fr",cellStyles:{fontWeight:"500"}},{field:"doctors",title:"Doctores",minWidth:"100px",width:"100px",headerStyles:{textAlign:"center"},cellStyles:{textAlign:"center"}},{field:"availability",title:"Disponibilidad",minWidth:"120px",width:"120px",headerStyles:{textAlign:"center"},cellStyles:{textAlign:"center",fontWeight:"bold"},dynamicStyles(t){return{color:"Alta"===t?"#27ae60":"Media"===t?"#f39c12":"#e74c3c"}}}],data:[{id:1,specialty:"CardiologÃ­a",doctors:5,availability:"Alta"},{id:2,specialty:"PediatrÃ­a",doctors:8,availability:"Media"},{id:3,specialty:"NeurologÃ­a",doctors:3,availability:"Baja"}],evenRowColor:"#f8f9fa",oddRowColor:"#ffffff",containerStyles:{maxHeight:"500px",overflowY:"auto"}}},"/home/specialties/medical"(){return{type:"html",content:'\n        <div class="medical-banner">\n          <h2>Departamento MÃ©dico</h2>\n          <p>Servicios especializados con tecnologÃ­a de punta</p>\n        </div>\n        <style>\n          .medical-banner {\n            background: linear-gradient(135deg, #1a73e8, #0d47a1);\n            color: white;\n            padding: 2rem;\n            border-radius: 8px;\n          }\n        </style>\n      '}}},me=(t,e,n)=>{const r={type:"text",content:"Contenido no disponible",styles:{fontSize:"1.2rem",color:"#999"}};if(!n||!t?.length)return a("Error: Ruta o lista de rutas invÃ¡lida"),{area:"content",type:"container",children:[r]};const o=t.find((t=>t.path===n))||t[0];a("Ruta actual: "+n,"Ruta configurada: "+o?.path);const i=(t={})=>{a("Iniciando refresh",{path:n,state:t});const o=document.querySelector("main[data-content]")||document.querySelector("[data-content-area]");if(!o)return a("Error: Contenedor no encontrado, recargando layout completo"),e(n,!0);try{const e=be[n];if(!e)throw Error("Controlador no encontrado para "+n);const s="function"==typeof e?e({refresh:i,state:t}):e;initLayout([{area:"content",type:"container",tag:"main",attributes:{"data-content":"true"},styles:{overflowY:"auto",padding:"20px",backgroundColor:"#2c3e50"},children:Array.isArray(s)?[s]:[s||r]}],o),a("Contenido actualizado exitosamente")}catch(t){a("Fallback a contenido por defecto"),initLayout([r],o)}};try{const t=be[n],e="function"==typeof t?t({refresh:i}):t||r;return{area:"content",type:"container",tag:"main",attributes:{"data-content":"true"},styles:{overflowY:"auto",padding:"20px",backgroundColor:"#2c3e50"},children:Array.isArray(e)?e:[e]}}catch(t){return{area:"content",type:"container",children:[{...r,content:"Error al cargar contenido"}]}}},xe={area:"footer",type:"container",tag:"footer",styles:{backgroundColor:"#2c3e50",color:"white",padding:"15px",textAlign:"center"},children:[{type:"text",content:"Â© 2023 Mi AplicaciÃ³n",styles:{fontSize:"1.5rem"}}]},ye=()=>window.location.pathname,ke=async t=>{(t=>{window.history.pushState({},"",t),$.dispatch({type:"SET_CURRENT_PATH",payload:t})})(t);try{const{routesUi:o,auth:i}=$.getState(),a=o.routes.find((e=>e.path===t)),s=a?.meta?.requiresAuth;if(s&&!i.isAuthenticated)return we("/auth/login");ue([(e=o.routes,{role:"page",layout:{type:"grid",areas:[["navbar","navbar"],["sidebar","content"],["sidebar","footer"]],columns:["250px","1fr"],rows:["auto","1fr","auto"],styles:{height:"100vh",margin:"0px",padding:"0px",gridGap:"0px",border:"1px solid white"}},elements:[pe,ge(e,n=ke,r=t),me(e,n,r),xe]})],"#app")}catch(e){ue([{role:"error",elements:[{type:"text",content:"Error al cargar "+t,styles:{color:"red"}}]}],"#app")}var e,n,r},we=t=>ke(t);r.then((async()=>{try{(()=>{if(!document.getElementById("toggleDebug")){const t=document.createElement("button");if(t.id="toggleDebug",t.textContent=o.debugMode?"Debug ON":"Debug OFF",t.style.position="fixed",t.style.top="60px",t.style.right="10px",t.style.padding="10px 15px",t.style.backgroundColor=o.debugMode?"#4CAF50":"#F44336",t.style.color="white",t.style.border="none",t.style.borderRadius="4px",t.style.cursor="pointer",t.style.zIndex="9999",document.body.appendChild(t),!document.getElementById("debugConsole")){const t=document.createElement("div");t.id="debugConsole",t.style.display=o.debugMode?"block":"none",t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.width="100%",t.style.maxHeight="200px",t.style.overflowY="auto",t.style.backgroundColor="#111",t.style.color="#0f0",t.style.padding="10px",t.style.fontFamily="monospace",t.style.zIndex="9998",t.style.borderTop="2px solid #333",document.body.appendChild(t)}t.addEventListener("click",(()=>{o.debugMode=!o.debugMode;const e=document.getElementById("debugConsole");e&&(e.style.display=o.debugMode?"block":"none"),t.textContent=o.debugMode?"Debug ON":"Debug OFF",t.style.backgroundColor=o.debugMode?"#4CAF50":"#F44336",a("Debug "+(o.debugMode?"activado":"desactivado"),"info")}))}})();const t=await async function(){try{const t=new URL("/api/routes",window.location.origin),e=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const t=await e.text();throw Error(`HTTP ${e.status}: ${t}`)}const n=await e.json();return Array.isArray(n)?n:[{path:"/",view:"home",private:!1,title:"Inicio"},{path:"/error",view:"error",private:!1,title:"Error de conexiÃ³n"}]}catch(t){return[{path:"/",view:"home",private:!1,title:"Inicio"},{path:"/error",view:"error",private:!1,title:"Error de conexiÃ³n"}]}}(),e=ye();$.dispatch({type:"SET_ROUTES",payload:t}),$.dispatch({type:"SET_CURRENT_PATH",payload:e}),await ke(e),window.addEventListener("popstate",(()=>{ke(ye())}))}catch(t){}}))})();